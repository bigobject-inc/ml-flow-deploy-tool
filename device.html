<!DOCTYPE HTML>
<html>
    <head>
	    <link rel="stylesheet" href="http://cdn.webix.com/edge/webix.css" type="text/css"> 
	    <script src="http://cdn.webix.com/edge/webix.js" type="text/javascript"></script>  
    </head>

    <body>
	<h5><div id="layout1" style="height:700px;text-align:center;" ></div></h5>

        <script type="text/javascript" charset="utf-8">
	var xhr = webix.ajax().sync().get("http://localhost:8888/regist");
	var server_list = JSON.parse(xhr.responseText)

	var device = [{ id:1, title:server_list[0], type:"server", status:'run'},
			{ id:2, title:"rpi1", type:"rpi",status:'stop'},
			{ id:3, title:"rpi2", type:"rpi",status:'stop'}];
	var selected = 0;

	webix.ui({
		container:"layout1", //corresponds to the ID of the div block 
		cols:[
			{
			view:"dataview", 
			width:150,
			id:"Devices",
			container:"layout1",
			select:true,
			type: {
				width:"auto", 
				height:"auto"
			},
			xCount:1, yCount:7,

			template:"<div class='webix_strong'><center><img src='#type#.jpg'></img><br>#title# <img src='#status#.jpg'></img> </center></div> ",
	//		template:"<div class='webix_strong'><center><img src='#type#.jpg'></img><br>#title# </center></div> ",
			data:device
			},
			{view:"iframe", id:"frame-body", src:"/device_info?ip=" + device[selected].title},

	    ]
	});


        </script>

    </body>
</html>
